<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">

<f:metadata>
  <f:event type="preRenderView" listener="#{advertController.getId(hraccess.id)}"/>
  <f:event type="preRenderView" listener="#{advertController.loadTheAdd(advert)}"/>
</f:metadata>

<h:head>
	
	<title>Edit Advert</title>
	
	<script type="text/javascript">
	
		function getConfirmation(action, message){
			var retVal = confirm(action);
				if( retVal == true ){
					
              		return true;
           		}
           		else{
          	 		
           	   		return false;
          	 	}
		}
      
		function getConfirmationEdit(action, message){
			var retVal = confirm(action);
				if( retVal == true ){
					alert ("The advert has been edited successfully");
                  	return true;
               	}
               	else{
               		
                  	return false;
               	}
		}
		
	</script>
	
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.js" />
	<script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" />
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
	
	<h:outputScript library="js" name="formatDatePicker.js" />
	
	<h:outputStylesheet library="css" name="bootstrap.css"  />
	<h:outputStylesheet library="css" name="bootstrap-theme.css"  />
	<h:outputStylesheet library="css" name="sign-in.css"  />
	<h:outputStylesheet library="css" name="table.css"  />
	
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	
</h:head>

<h:body>
	<div class="container">
	
		<div class="row">
	
			<div class="col-md-12">
				<h3>Edit #{advert.head}</h3>
			</div>
		</div>
	
		<hr class="colorgraph"></hr>
	
		<div class="row">
			<div class="col-md-12">
				<h:form>
			
					<h:button class="btn btn-primary" style="color: white; margin-right:16px;" value="Homepage" outcome="home"/>
				
					<h:button class="btn btn-primary" style="color: white; margin-right:16px;" value="Applications" outcome="applications"/>
				
					<h:button class="btn btn-primary" style="color: white; margin-right:16px;" value="Add Advert" outcome="add_advert"/>
			
					<h:commandButton class="btn btn-primary border-radius" style="color: white" value="Logout" onclick="if(!getConfirmation('Are you sure want to logout?')) return false" action="#{hraccess.logout()}"/>			
				</h:form>
			</div>
		</div>
		
		<br></br>

		Code: <h:outputText value="#{advert.code}"></h:outputText>
	
		<br></br>
		
		<h:form class="form-control form-horizontal" accept-charset="utf-8">
	
		<div class="form-group">
		<h:outputLabel>Title:</h:outputLabel> 
		<br></br>
		<h:inputText value="#{advert.head}" id="head" 
		required="true"/> 
		<h:message for="head" />
		</div>
	
		<br></br>
	
		<div class="form-group">
		<h:outputLabel>Description:</h:outputLabel> 
		<br></br>
		<h:inputTextarea cols="60" rows="10" value="#{advert.description}" id="description" 
		required="true"/> 	
    		<h:message for="description" />
    		</div>
    
    		<br></br>
    
    		<div class="form-group">
    		<h:outputLabel>Required Skills:</h:outputLabel> 
    		<br></br>
    		<h:inputTextarea cols="60" rows="10" value="#{advert.req_skills}" id="req_skills" 
    		required="true"/> 
			<h:message for="req_skills" />
		</div>
	
		<br></br>
	
		<div class="form-group">
		<h:outputLabel>Open Until:</h:outputLabel> 
		<br></br>
		<h:inputText styleClass="form-control datepicker" value="#{advert.close_time}" id="close_time" 
    		required="true"/> 
		<h:message for="close_time" />
		</div>
	
		<br></br>
		
		<div class="form-group">
		<h:outputLabel>Activate/Deactivate at: </h:outputLabel> 
		<br></br>
		<h:inputText styleClass="form-control datepicker" value="#{advert.act_deactTime}" id="act_deactTime" required="true"/>
		<h:message for="act_deactTime" />
		</div>
	
		<br></br>
	
		<div class="form-group">
		<h:selectBooleanCheckbox value = "#{advert.active}">Active?:</h:selectBooleanCheckbox>
		</div>
	
		<br></br>

		<div class="form-group">
		<h:commandButton class="btn btn-primary" style="color: white" value="Post changes" onclick="if(!getConfirmation('Done editing?')) return false" action="#{advertController.updateAdvert(advert)}"/>
		</div>
	
	</h:form>
	
	</div>
</h:body>

</html>